"""Модуль, содержащий модели данных для книжной библиотеки.

Содержит класс Book, который представляет книгу в библиотеке
со всеми необходимыми атрибутами и методами для работы с ней.

Классы:
    Book: Основной класс, представляющий книгу в библиотеке.
"""


class Book:
    """Класс, представляющий книгу в библиотеке.

    Содержит информацию о книге: название, автор, год издания,
    жанр, список цитат и уникальный идентификатор.

    Attributes:
        title (str): Название книги.
        author (str): Автор книги.
        year (int): Год издания книги.
        genre (str): Жанр книги.
        quotes (list): Список цитат из книги.
        id (int or None): Уникальный идентификатор книги в базе данных.
            None означает, что книга еще не сохранена в БД.
    """

    def __init__(self, title, author, year, genre, quotes=None):
        """Инициализирует объект книги.

        Args:
            title (str): Название книги.
            author (str): Автор книги.
            year (int): Год издания книги.
            genre (str): Жанр книги.
            quotes (list, optional): Список цитат из книги.
                По умолчанию пустой список.
        """
        self.title = title
        self.author = author
        self.year = year
        self.genre = genre
        self.quotes = quotes or []
        self.id = None

    def to_dict(self):
        """Преобразует объект книги в словарь.

        Возвращает словарь с основными атрибутами книги,
        который можно использовать для сериализации или
        передачи данных.

        Returns:
            dict: Словарь с ключами:
                - 'title': Название книги
                - 'author': Автор книги
                - 'year': Год издания
                - 'genre': Жанр
                - 'quotes': Список цитат

        Note:
            Метод не включает идентификатор (id) в словарь,
            так как он используется для внутренних целей базы данных.
        """
        return {
            'title': self.title,
            'author': self.author,
            'year': self.year,
            'genre': self.genre,
            'quotes': self.quotes
        }

    def __str__(self):
        """Возвращает строковое представление книги.

        Returns:
            str: Строка в формате:
                "'Название' - Автор (Год)"

        Examples:
            book = Book("Война и мир", "Лев Толстой", 1869, "Роман")
            str(book)
            "'Война и мир' - Лев Толстой (1869)"
        """
        return f"'{self.title}' - {self.author} ({self.year})"