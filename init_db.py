"""Скрипт для инициализации и проверки подключения к базе данных книжной библиотеки.

Предназначен для однократного запуска при первом использовании библиотеки или
для проверки корректности подключения к базе данных PostgreSQL.

Основные функции:
    - Проверяет возможность подключения к базе данных
    - Загружает книги из базы данных в память
    - Выводит статистику загруженных данных

Примечание:
    Этот скрипт предназначен для однократного запуска при настройке системы.
    Регулярное использование библиотеки должно осуществляться через
    основной модуль booklib.
"""

try:
    from booklib import LibraryStorage
    storage = LibraryStorage()
    print(f"База данных успешно подключена.")
    print(f"Загружено книг: {len(storage.books)}")

except Exception as e:
    print(f" Ошибка: {e}")